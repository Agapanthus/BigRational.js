var bigRat=function(){function e(e,t){if(t.isZero())throw"Denominator cannot be 0.";this.numerator=this.num=e,this.denominator=this.denom=t}function r(n,r){var i=t(n,r),s=n.over(i),o=r.over(i);return o.isNegative()?new e(s.negate(),o.negate()):new e(s,o)}function i(e,t){return o(e,t)}function s(t){var n=t.split(/e/i);if(n.length>2)throw new Error("Invalid input: too many 'e' tokens");if(n.length>1){var i=!0;n[1][0]==="-"&&(n[1]=n[1].slice(1),i=!1),n[1][0]==="+"&&(n[1]=n[1].slice(1));var o=s(n[0]),u=new e(bigInt(10).pow(n[1]),bigInt[1]);return i?o.times(u):o.over(u)}n=t.split(".");if(n.length>2)throw new Error("Invalid input: too many '.' tokens");if(n.length>1){var a=new e(bigInt(n[0]),bigInt[1]),f=n[1].length;while(n[1][0]==="0")n[1]=n[1].slice(1);var l="1"+Array(f+1).join("0"),c=r(bigInt(n[1]),bigInt(l));return a=a.add(c),n[0][0]==="-"&&(a=a.negate()),a}return new e(bigInt(t),bigInt[1])}function o(t,n){if(!t)return new e(bigInt(0),bigInt[1]);if(n)return r(bigInt(t),bigInt(n));if(bigInt.isInstance(t))return new e(t,bigInt[1]);if(t instanceof e)return t;var i,o,u=String(t),a=u.split("/");if(a.length>2)throw new Error("Invalid input: too many '/' tokens");if(a.length>1){var f=a[0].split("_");if(f.length>2)throw new Error("Invalid input: too many '_' tokens");if(f.length>1){var l=f[0][0]!=="-";return i=bigInt(f[0]).times(a[1]),l?i=i.add(f[1]):i=i.subtract(f[1]),o=bigInt(a[1]),r(i,o)}return r(bigInt(a[0]),bigInt(a[1]))}return s(u)}typeof require=="function"&&(bigInt=require("big-integer"));var t=bigInt.gcd,n=bigInt.lcm;return e.prototype.add=function(e,t){var s=i(e,t),o=n(this.denom,s.denom),u=o.divide(this.denom),a=o.divide(s.denom);return u=this.num.times(u),a=s.num.times(a),r(u.add(a),o)},e.prototype.plus=e.prototype.add,e.prototype.subtract=function(e,t){var n=i(e,t);return this.add(n.negate())},e.prototype.minus=e.prototype.subtract,e.prototype.multiply=function(e,t){var n=i(e,t);return r(this.num.times(n.num),this.denom.times(n.denom))},e.prototype.times=e.prototype.multiply,e.prototype.divide=function(e,t){var n=i(e,t);return r(this.num.times(n.denom),this.denom.times(n.num))},e.prototype.over=e.prototype.divide,e.prototype.reciprocate=function(){return new e(this.denom,this.num)},e.prototype.mod=function(e,t){var n=i(e,t);return this.minus(n.times(this.over(n).floor()))},e.prototype.floor=function(t){var n=this.num.divmod(this.denom),r;return n.remainder.isZero()||!n.quotient.sign?r=n.quotient:r=n.quotient.prev(),t?r:new e(r,bigInt[1])},e.prototype.ceil=function(t){var n=this.num.divmod(this.denom),r;return n.remainder.isZero()||n.quotient.sign?r=n.quotient:r=n.quotient.next(),t?r:new e(r,bigInt[1])},e.prototype.round=function(e){return this.add(1,2).floor(e)},e.prototype.compareAbs=function(e,t){var n=i(e,t);return this.denom.equals(n.denom)?this.num.compareAbs(n.num):this.num.times(n.denom).compareAbs(n.num.times(this.denom))},e.prototype.compare=function(e,t){var n=i(e,t);if(this.denom.equals(n.denom))return this.num.compare(n.num);var r=this.denom.sign===n.denom.sign?1:-1;return r*this.num.times(n.denom).compare(n.num.times(this.denom))},e.prototype.compareTo=e.prototype.compare,e.prototype.equals=function(e,t){return this.compare(e,t)===0},e.prototype.eq=e.prototype.equals,e.prototype.notEquals=function(e,t){return this.compare(e,t)!==0},e.prototype.neq=e.prototype.notEquals,e.prototype.lesser=function(e,t){return this.compare(e,t)<0},e.prototype.lt=e.prototype.lesser,e.prototype.lesserOrEquals=function(e,t){return this.compare(e,t)<=0},e.prototype.leq=e.prototype.lesserOrEquals,e.prototype.greater=function(e,t){return this.compare(e,t)>0},e.prototype.gt=e.prototype.greater,e.prototype.greaterOrEquals=function(e,t){return this.compare(e,t)>=0},e.prototype.geq=e.prototype.greaterOrEquals,e.prototype.abs=function(){return this.isPositive()?this:this.negate()},e.prototype.negate=function(){return this.denom.sign?new e(this.num,this.denom.negate()):new e(this.num.negate(),this.denom)},e.prototype.isNegative=function(){return this.num.sign!==this.denom.sign},e.prototype.isPositive=function(){return this.num.sign===this.denom.sign},e.prototype.isZero=function(){return this.num.isZero()},e.prototype.toDecimal=function(e){e=e||10;var t=this.num.divmod(this.denom),n=t.quotient.toString(),r=o(t.remainder.abs(),this.denom),i="";while(i.length<=e){var s;for(s=0;s<=10;s++)if(o(i+s,"1"+Array(i.length+2).join("0")).greater(r)){s--;break}i+=s}while(i.slice(-1)==="0")i=i.slice(0,-1);return i===""?n:n+"."+i},e.prototype.toString=function(){return String(this.num)+"/"+String(this.denom)},e.prototype.valueOf=function(){return this.num/this.denom},o.zero=o(0),o.one=o(1),o.minusOne=o(-1),o}();typeof module!="undefined"&&module.hasOwnProperty("exports")&&(module.exports=bigRat);